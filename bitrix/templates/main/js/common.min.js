function isMobile(){return/Android|webOS|iPhone|iPod|BlackBerry|Windows Phone|iemobile/i.test(navigator.userAgent)}function initMap(){function e(e,t){function a(e){e.filter(function(e){new google.maps.Marker({position:new google.maps.LatLng(e[0],e[1]),map:mapvar,icon:n,zIndex:99999})})}var s=e,i=s.getAttribute("data-icon"),l=[[43,33],[38,37],[45,48]];mapvar=new google.maps.Map(s,t);var n={url:i,size:new google.maps.Size(70,102),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(35,56),scaledSize:new google.maps.Size(35,56)};a(l),e.classList.add("inited")}var t=document.getElementById("map"),a=new google.maps.LatLng(23,55),s={zoom:3,minZoom:3,fullscreenControl:!1,scrollwheel:!1,scaleControl:!1,mapTypeControl:!1,center:a,streetViewControl:!1,gestureHandling:"greedy",zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},styles:[{featureType:"all",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"all",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#000000"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"geometry.fill",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{visibility:"on"},{saturation:"-14"},{weight:"1"},{lightness:"67"},{gamma:"1.41"},{color:"#c7d7c7"}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{hue:"#ff0000"},{visibility:"off"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{saturation:"-39"},{lightness:"35"},{gamma:"1.08"}]},{featureType:"landscape",elementType:"geometry",stylers:[{saturation:"0"}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{saturation:"-100"},{lightness:"10"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{saturation:"-100"},{lightness:"-14"}]},{featureType:"landscape.man_made",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.landcover",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"all",stylers:[{saturation:"-100"},{lightness:"10"},{gamma:"2.26"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{saturation:"-100"},{lightness:"-3"}]},{featureType:"road",elementType:"all",stylers:[{saturation:"-100"},{lightness:"54"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{saturation:"-100"},{lightness:"-7"}]},{featureType:"road.arterial",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"road.local",elementType:"all",stylers:[{saturation:"-100"},{lightness:"-2"}]},{featureType:"transit",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{saturation:"-100"},{lightness:"100"}]},{featureType:"water",elementType:"geometry.stroke",stylers:[{saturation:"-100"},{lightness:"-100"}]}]};e(t,s)}window.onload=function(){$("#main-video").length&&$("#main-video").get(0).play(),setTimeout(function(){$("#title-wrapper").removeClass("animated fadeInDownMenu")},500)},document.addEventListener("DOMContentLoaded",function(){function e(e){var t=(140-e/r*50)/100;n.css("opacity",i/e/3).find(".firstScreenFading").css("transform","translate(-50%, -50%) scale("+(t<=1?1:t)+")"),e>150&&!d.hasClass("hiddened")?d.fadeOut().addClass("hiddened"):e<150&&d.hasClass("hiddened")&&d.fadeIn().removeClass("hiddened")}function t(e){c.css("transform","translatey("+Math.round(-e/2)+"px)")}function a(e){e>=p&&e<=u&&y.css("transform","translate( 0, "+-(e-p-h/2)/6+"px)")}var s=$(window),i=s.height(),l=$("#header-mainwrap"),n=$("#main-first-screen-fading-wrapper"),r=$("#main-screen-wrapper").height(),o=$("#main-burger"),d=$("#main-screen .screen-links-wrapper"),c=$("#title-wrapper"),m=isMobile();if(!isMobile()&&n.data("src")&&(n.append('<div class="homepage-hero-module"><div class="video-container"><div class="filter"></div><video class="firstScreenFading" id="main-video" muted loop><source src="'+n.data("src")+'" type="video/mp4"></video></div></div>'),n.find(".video-poster").remove()),o.on("click",function(){l.toggleClass("active"),m?$("body").toggleClass("menu-mobile"):$("body").toggleClass("menu-stuck")}),$("#main-screen .screen-link-text").length&&($("#main-screen .screen-link-text").on("mouseenter",function(){c.addClass("active")}),$("#main-screen .screen-link-text").on("mouseleave",function(){c.removeClass("active")})),$("#parallax").length)var f=$("#parallax"),y=$("#parallax .parallax-img img"),p=f.offset().top-i,u=f.offset().top+f.height(),h=u-p;if($("#dates").length&&$("#dates-slider").slick({slidesToShow:4,slidesToScroll:4,infinite:!1,focusOnSelect:!1,accessibility:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,arrows:!1,infinite:!1}},{breakpoint:750,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1,infinite:!1}},{breakpoint:540,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,infinite:!1}}]}),s.scroll(function(i){var n=s.scrollTop();return n>r&&!$("body").hasClass("menu-mobile")?(l.addClass("sticked animated fadeInDownFast").css("animation-delay","0"),void(m||a(n))):void(n<0||(m||(e(n),t(n)),l.removeClass("sticked animated fadeInDownFast")))}),$(window).width()>=1024&&(inView.offset(100),inView(".animateThis").on("enter",function(e){$(e).addClass("animated "+$(e).data("anim"))})),$("#index-chart .chart-bar").filter(function(){$(this).css("width",$(this).data("scale")+"%")}),$("#brands").length){var g=[],v=!1,b=$("#brands"),T=$("#brands .brand-anim-block");T.filter(function(e){var t=$(this),a=Math.floor(7e3*Math.random())+8e3,s=0;if(s<T.length+1){for(var i=Math.floor(Math.random()*brandElems.brands.length);g[i];)i=Math.floor(Math.random()*brandElems.brands.length);g[i]=!0,t.append('<a href="'+brandElems.brands[i].href+'"><img src="'+brandElems.brands[i].src+'" alt="brand"></a>'),s++}m||setInterval(function(){if(!v){for(;g[i];)i=Math.floor(Math.random()*brandElems.brands.length);t.append('<a href="'+brandElems.brands[i].href+'"><img src="'+brandElems.brands[i].src+'" alt="brand"></a>'),t.children("a:nth-of-type(2)").addClass("animated slideBrand"),t.children("a:first-of-type").addClass("animated slideBrandOut"),g[i]=!0,setTimeout(function(){for(var e in brandElems.brands)brandElems.brands[e].src==t.children("a:first-of-type").children("img").attr("src")&&(g[e]=!1);t.children("a").removeClass("animated slideBrand"),t.children("a:first-of-type").remove()},1e3)}},a)}),b.on("mouseenter",function(){v=!0}),b.on("mouseleave",function(){v=!1})}if($("#scheme").length){var w=1,C=$("#scheme .scheme-button"),x=$("#scheme-slider .scheme-slider__slide");C.on("click",function(){var e=$(this);if(console.log(w),!e.hasClass("active")){C.filter(function(){$(this).removeClass("active")}),e.addClass("active").siblings().removeClass("active");var t=x.eq(e.data("slide")-1);t.addClass("active").siblings().removeClass("active"),w=e.data("slide"),$("#scheme .scheme-menu").css("transform","rotate("+(45*-e.data("slide")+45)+"deg)"),$("#scheme .scheme-menu g.icon").css("transform","rotate("+(45*e.data("slide")-45)+"deg)")}}),$("#update-scheme-slider").on("click",function(){w>=8?w=1:w++,C.eq(w-1).trigger("click"),console.log(w)})}if($("#graphics").length){var k=$("#chart-control .button"),_=0,M={data:chartData[_].values,animate_on_load:!0,width:600,height:500,full_width:!0,full_height:!0,left:100,y_extended_ticks:!0,x_extended_ticks:!0,point_size:4,target:"#company-chart",x_accessor:"date",y_accessor:"value",y_label:chartData[_].title,color_accessor:"v",color_type:"category",mouseover:function(e,t){d3.select("#company-chart svg .mg-active-datapoint").text("В "+(t+2011)+" году произведено "+e.value+" тыс.тонн")}};k.on("click",function(){var e=$(this);e.hasClass("active")||(console.log(e.data("chart")),_=e.data("chart")),M.data=chartData[_].values,M.y_label=chartData[_].title,e.addClass("active").siblings().removeClass("active"),delete M.xax_format,MG.data_graphic(M)}),MG.data_graphic(M)}});