function isMobile(){return/Android|webOS|iPhone|iPod|BlackBerry|Windows Phone|iemobile/i.test(navigator.userAgent)}function initMap(){function e(e,t){function a(e){e.filter(function(e){console.log(e),new google.maps.Marker({position:new google.maps.LatLng(e[0],e[1]),map:mapvar,icon:o,zIndex:99999})})}var r=e,i=parseFloat(r.getAttribute("data-lat")),n=parseFloat(r.getAttribute("data-lon")),s=r.getAttribute("data-icon"),l=(new google.maps.LatLng(i,n),[[43,33],[38,37],[43,55]]);mapvar=new google.maps.Map(r,t);var o={url:s,size:new google.maps.Size(76,114),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(38,114),scaledSize:new google.maps.Size(38,57)};a(l),e.classList.add("inited")}var t=document.getElementById("map"),a=new google.maps.LatLng(23,55),r={zoom:3,minZoom:3,fullscreenControl:!1,scrollwheel:!1,scaleControl:!1,mapTypeControl:!1,center:a,streetViewControl:!1,gestureHandling:"greedy",zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},styles:[{featureType:"all",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"all",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#000000"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"geometry.fill",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{visibility:"on"},{saturation:"-14"},{weight:"1"},{lightness:"67"},{gamma:"1.41"},{color:"#c7d7c7"}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{hue:"#ff0000"},{visibility:"off"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{saturation:"-39"},{lightness:"35"},{gamma:"1.08"}]},{featureType:"landscape",elementType:"geometry",stylers:[{saturation:"0"}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{saturation:"-100"},{lightness:"10"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{saturation:"-100"},{lightness:"-14"}]},{featureType:"landscape.man_made",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.landcover",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"all",stylers:[{saturation:"-100"},{lightness:"10"},{gamma:"2.26"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{saturation:"-100"},{lightness:"-3"}]},{featureType:"road",elementType:"all",stylers:[{saturation:"-100"},{lightness:"54"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{saturation:"-100"},{lightness:"-7"}]},{featureType:"road.arterial",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"road.local",elementType:"all",stylers:[{saturation:"-100"},{lightness:"-2"}]},{featureType:"transit",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{saturation:"-100"},{lightness:"100"}]},{featureType:"water",elementType:"geometry.stroke",stylers:[{saturation:"-100"},{lightness:"-100"}]}]};e(t,r)}window.onload=function(){$("#main-video").length&&$("#main-video").get(0).play(),setTimeout(function(){$("#title-wrapper").removeClass("animated fadeInDownMenu")},500)},document.addEventListener("DOMContentLoaded",function(){function e(e){var t=(140-e/l*50)/100;s.css("opacity",i/e/3).find(".firstScreenFading").css("transform","translate(-50%, -50%) scale("+(t<=1?1:t)+")"),e>150&&!c.hasClass("hiddened")?c.fadeOut().addClass("hiddened"):e<150&&c.hasClass("hiddened")&&c.fadeIn().removeClass("hiddened")}function t(e){d.css("transform","translatey("+Math.round(-e/2)+"px)")}function a(e){e>=p&&e<=y&&u.css("transform","translate( 0, "+-(e-p-h/2)/6+"px)")}var r=$(window),i=r.height(),n=$("#header-mainwrap"),s=$("#main-first-screen-fading-wrapper"),l=$("#main-screen-wrapper").height(),o=$("#main-burger"),c=$("#main-screen .screen-links-wrapper"),d=$("#title-wrapper"),f=isMobile();if(!isMobile()&&s.data("src")&&(s.append('<div class="homepage-hero-module"><div class="video-container"><div class="filter"></div><video class="firstScreenFading" id="main-video" muted loop><source src="'+s.data("src")+'" type="video/mp4"></video></div></div>'),s.find(".video-poster").remove()),o.on("click",function(){n.toggleClass("active"),f?$("body").toggleClass("menu-mobile"):$("body").toggleClass("menu-stuck")}),$("#main-screen .screen-link-text").length&&($("#main-screen .screen-link-text").on("mouseenter",function(){d.addClass("active")}),$("#main-screen .screen-link-text").on("mouseleave",function(){d.removeClass("active")})),$("#parallax").length)var m=$("#parallax"),u=$("#parallax .parallax-img img"),p=m.offset().top-i,y=m.offset().top+m.height(),h=y-p;if($("#dates").length&&$("#dates-slider").slick({slidesToShow:4,slidesToScroll:4,infinite:!1,focusOnSelect:!1,accessibility:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,arrows:!1,infinite:!1}},{breakpoint:750,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1,infinite:!1}},{breakpoint:540,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,infinite:!1}}]}),r.scroll(function(i){var s=r.scrollTop();return s>l&&!$("body").hasClass("menu-mobile")?(n.addClass("sticked animated fadeInDownFast").css("animation-delay","0"),void(f||a(s))):void(s<0||(f||(e(s),t(s)),n.removeClass("sticked animated fadeInDownFast")))}),$(window).width()>=1024&&(inView.offset(100),inView(".animateThis").on("enter",function(e){$(e).addClass("animated "+$(e).data("anim"))})),$("#index-chart .chart-bar").filter(function(){$(this).css("width",$(this).data("scale")+"%")}),$("#brands").length){var v=[],g=!1,b=$("#brands"),w=$("#brands .brand-anim-block");w.filter(function(e){var t=$(this),a=Math.floor(7e3*Math.random())+8e3,r=0;if(r<w.length+1){for(var i=Math.floor(Math.random()*brandElems.brands.length);v[i];)i=Math.floor(Math.random()*brandElems.brands.length);v[i]=!0,t.append('<a href="'+brandElems.brands[i].href+'"><img src="'+brandElems.brands[i].src+'" alt="brand"></a>'),r++}f||setInterval(function(){if(!g){for(;v[i];)i=Math.floor(Math.random()*brandElems.brands.length);t.append('<a href="'+brandElems.brands[i].href+'"><img src="'+brandElems.brands[i].src+'" alt="brand"></a>'),t.children("a:nth-of-type(2)").addClass("animated slideBrand"),t.children("a:first-of-type").addClass("animated slideBrandOut"),v[i]=!0,setTimeout(function(){for(var e in brandElems.brands)brandElems.brands[e].src==t.children("a:first-of-type").children("img").attr("src")&&(v[e]=!1);t.children("a").removeClass("animated slideBrand"),t.children("a:first-of-type").remove()},1e3)}},a)}),b.on("mouseenter",function(){g=!0}),b.on("mouseleave",function(){g=!1})}if($("#scheme").length){var T=1,k=$("#scheme .scheme-button"),x=$("#scheme-slider .scheme-slider__slide");k.on("click",function(){var e=$(this);if(console.log(T),!e.hasClass("active")){k.filter(function(){$(this).removeClass("active")}),e.addClass("active").siblings().removeClass("active");var t=x.eq(e.data("slide")-1);t.addClass("active").siblings().removeClass("active"),T=e.data("slide"),$("#scheme .scheme-menu").css("transform","rotate("+(45*-e.data("slide")+45)+"deg)"),$("#scheme .scheme-menu g.icon").css("transform","rotate("+(45*e.data("slide")-45)+"deg)")}}),$("#update-scheme-slider").on("click",function(){T>=8?T=1:T++,k.eq(T-1).trigger("click"),console.log(T)})}if($("#graphics").length){var C=$("#chart-control .button"),S=(C.length,0),M={data:chartData[S].values,animate_on_load:!0,width:600,height:500,full_width:!0,full_height:!0,left:100,y_extended_ticks:!0,x_extended_ticks:!0,point_size:4,target:"#company-chart",x_accessor:"date",y_accessor:"value",y_label:chartData[S].title,color_accessor:"v",color_type:"category",mouseover:function(e,t){d3.select("#company-chart svg .mg-active-datapoint").text("В "+(t+2011)+" году произведено "+e.value+" тыс.тонн")}};C.on("click",function(){var e=$(this);e.hasClass("active")||(console.log(e.data("chart")),S=e.data("chart")),M.data=chartData[S].values,M.y_label=chartData[S].title,e.addClass("active").siblings().removeClass("active"),delete M.xax_format,MG.data_graphic(M)}),MG.data_graphic(M)}!function(){function e(){var e=!1;e&&d("keydown",n),E.keyboardSupport&&!e&&c("keydown",n)}function t(){if(document.body){var t=document.body,a=document.documentElement,r=window.innerHeight,i=t.scrollHeight;if(S=document.compatMode.indexOf("CSS")>=0?a:t,b=t,e(),$=!0,top!==self)x=!0;else if(i>r&&(t.offsetHeight<=r||a.offsetHeight<=r)){var n=!1,s=function(){n||a.scrollHeight===document.height||(n=!0,setTimeout(function(){a.style.height=document.height+"px",n=!1},500))};if(a.style.height="auto",setTimeout(s,10),S.offsetHeight<=r){var l=document.createElement("div");l.style.clear="both",t.appendChild(l)}}if(E.fixedBackground||k||(t.style.backgroundAttachment="scroll",a.style.backgroundAttachment="scroll"),E.overscroll){var o=new MutationObserver(function(e){y()});o.observe(document.body,{childList:!0,subtree:!0}),y()}}}function a(e,t,a,r,i){r=r||!1,i=i||1e3,m(t,a);var n=r?E.accelerationMax/2:E.accelerationMax,s=E.accelerationDelta;if(1!==n){var l=+new Date,o=l-z;if(o<s){var c=(1+30/o)/2;c>1&&(c=Math.min(c,n),t*=c,a*=c)}z=+new Date}if(D.push({x:t,y:a,lastX:t<0?.99:-.99,lastY:a<0?.99:-.99,start:+new Date}),!H){var d=e===document.body,f=function(n){for(var s=+new Date,l=0,o=0,c=E.animationTime,m=0;m<D.length;m++){var u=D[m],p=s-u.start,y=p>=c,h=y?1:p/c;E.pulseAlgorithm&&(h=g(h,r));var v=u.x*h-u.lastX>>0,b=u.y*h-u.lastY>>0;l+=v,o+=b,u.lastX+=v,u.lastY+=b,y&&(D.splice(m,1),m--)}if(d){var T=!(!w||!w.getAttribute("overscroll")||JSON.parse(w.getAttribute("overscroll"))!==!1);if(E.overscroll&&!T){var k=0;if(0===window.scrollY&&o<=0||window.scrollY===w.scrollHeight-window.innerHeight&&o>=0?k=-o:window.scrollBy(l,o),0===k&&(L=!1,A=0),Math.abs(k)>E.overscrollThreshold&&!L){L=!0;var x=new CustomEvent("overscroll",{detail:{direction:o<0?"top":"bottom"}});window.dispatchEvent(x)}Math.abs(k)>A&&(A=Math.abs(k)),w.style.transform="translate(0, "+k+"px)"}else window.scrollBy(l,o)}else l&&(e.scrollLeft+=l),o&&(e.scrollTop+=o);t||a||(D=[]),D.length?N(f,e,i/E.frameRate+1):H=!1};N(f,e,0),H=!0}}function r(e){E.overscroll&&y()}function i(e){$||t();var r=e.target,i=o(r),n=!E.overscroll&&e.defaultPrevented;if(!i||n||f(b,"embed")||f(r,"embed")&&/\.pdf/i.test(r.src))return!0;var s=e.wheelDeltaX||0,l=e.wheelDeltaY||0;s||l||(l=e.wheelDelta||0);var c=u(l);return!(E.touchpadSupport||!c)||(Math.abs(s)>1.2&&(s*=E.stepSize/120),Math.abs(l)>1.2&&(l*=E.stepSize/120),a(i,-s,-l,c),void e.preventDefault())}function n(e){var t=e.target,r=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey&&e.keyCode!==_.spacebar;if(/input|textarea|select|embed/i.test(t.nodeName)||t.isContentEditable||e.defaultPrevented||r)return!0;if(f(t,"button")&&e.keyCode===_.spacebar)return!0;var i,n=0,s=0,l=o(b),c=l.clientHeight;switch(l===document.body&&(c=window.innerHeight),e.keyCode){case _.up:s=-E.arrowScroll;break;case _.down:s=E.arrowScroll;break;case _.spacebar:i=e.shiftKey?1:-1,s=-i*c*.9;break;case _.pageup:s=.9*-c;break;case _.pagedown:s=.9*c;break;case _.home:s=-l.scrollTop;break;case _.end:var d=l.scrollHeight-l.scrollTop-c;s=d>0?d+10:0;break;case _.left:n=-E.arrowScroll;break;case _.right:n=E.arrowScroll;break;default:return!0}a(l,n,s),e.preventDefault()}function s(e){b=e.target}function l(e,t){for(var a=e.length;a--;)I[B(e[a])]=t;return t}function o(e){var t=[],a=S.scrollHeight;do{var r=I[B(e)];if(r)return l(t,r);if(t.push(e),a===e.scrollHeight){if(!x||S.clientHeight+10<a)return l(t,document.body)}else if(e.clientHeight+10<e.scrollHeight&&(overflow=getComputedStyle(e,"").getPropertyValue("overflow-y"),"scroll"===overflow||"auto"===overflow))return l(t,e)}while(e=e.parentNode)}function c(e,t,a){window.addEventListener(e,t,a||!1)}function d(e,t,a){window.removeEventListener(e,t,a||!1)}function f(e,t){return(e.nodeName||"").toLowerCase()===t.toLowerCase()}function m(e,t){e=e>0?1:-1,t=t>0?1:-1,C.x===e&&C.y===t||(C.x=e,C.y=t,D=[],z=0)}function u(e){if(e){e=Math.abs(e),M.push(e),M.shift(),clearTimeout(O);var t=p(M[0],120)&&p(M[1],120)&&p(M[2],120);return!t}}function p(e,t){return Math.floor(e/t)===e/t}function y(){w=document.querySelector(E.overscrollSelector),w.style.transition="transform 100ms",w.style.minHeight="100%"}function h(e,t){for(var a in t)t[a]&&t[a].constructor&&t[a].constructor===Object?(e[a]=e[a]||{},arguments.callee(e[a],t[a])):e[a]=t[a];return e}function v(e,t){var a,r,i;return e*=E.pulseScale,e<1?a=e-(1-Math.exp(-e)):(r=Math.exp(-1),e-=1,i=1-Math.exp(-e),a=r+i*(1-r)),a*E.pulseNormalize}function g(e,t){return e>=1?1:e<=0?0:(1===E.pulseNormalize&&(E.pulseNormalize/=v(1,t)),v(e))}var b,w,T={frameRate:60,animationTime:400,stepSize:100,pulseAlgorithm:!0,pulseScale:8,pulseNormalize:1,accelerationDelta:200,accelerationMax:1,keyboardSupport:!0,arrowScroll:50,overscroll:!1,overscrollThreshold:150,overscrollSelector:"body",touchpadSupport:!0,fixedBackground:!0,excluded:""},k=!1,x=!1,C={x:0,y:0},$=!1,S=document.documentElement,M=[120,120,120],_={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},E=h(T,window.SmoothScrollOptions||{}),D=[],H=!1,z=+new Date,L=!1,A=0,I={};setInterval(function(){I={}},1e4);var O,B=function(){var e=0;return function(t){return t.uniqueID||(t.uniqueID=e++)}}(),N=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e,t,a){window.setTimeout(e,a||1e3/60)}}(),P=/chrome/i.test(window.navigator.userAgent),F=null;"onwheel"in document.createElement("div")?F="wheel":"onmousewheel"in document.createElement("div")&&(F="mousewheel"),F&&P&&(c(F,i),c("mousedown",s),c("load",t)),E.overscroll&&(c("resize",r),c("orientationchange",r))}()});