function isMobile(){return/Android|webOS|iPhone|iPod|BlackBerry|Windows Phone|iemobile/i.test(navigator.userAgent)}function initMap(e,t){function a(t){var a=[];g.setMap(null);for(var s=0;s<t.length;s++){var l=t[s],n={url:p,size:new google.maps.Size(17.5,28),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(8.8,28),scaledSize:new google.maps.Size(17.5,28)},r=new google.maps.LatLng(l.lat,l.lng);a.push(r);var o=new MarkerWithLabel({position:new google.maps.LatLng(l.lat,l.lng),title:l.title,map:e,icon:n,zIndex:999999,labelContent:'<div id="content"><div class="siteNotice"><div class="u-text lt">'+l.name+"</div></div></div>",labelAnchor:new google.maps.Point(0,0),labelClass:"labels"});h.push(o),google.maps.event.addListener(o,"click",function(e){i(h),this.set("labelClass","labels place_open")})}google.maps.event.addListener(e,"click",function(e){$(e.target).hasClass("labels")||i(h)})}function i(e){for(var t=0;t<e.length;t++){var a=e[t];a.set("labelClass","labels")}}function s(t,a){if(y.length>0)v.push([t,a]);else{y.push("LAZY SYNCRONIZED LOCK");for(var i=e.getCenter().lat(),s=e.getCenter().lng(),n=(t-i)/T,r=(a-s)/T,o=0;o<T;o++)y.push([i+n*o,s+r*o]);y.push([t,a]),y.shift(),setTimeout(l,10)}}function l(){var t=y.shift();if(null!=t)e.panTo(new google.maps.LatLng(t[0],t[1])),setTimeout(l,10);else{var a=v.shift();null!=a&&s(a[0],a[1])}}var n=$(e),r=document.getElementById("map"),o=parseFloat(r.getAttribute("data-zoom")),d=parseFloat(r.getAttribute("data-lat")),c=parseFloat(r.getAttribute("data-lon")),p=r.getAttribute("data-icon"),m={lat:d,lng:c},e=new google.maps.Map(r,{zoom:o,minZoom:o,center:m,fullscreenControl:!0,scrollwheel:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,gestureHandling:"greedy",zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},styles:[{featureType:"all",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"all",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#000000"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"geometry.fill",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{visibility:"on"},{saturation:"-14"},{weight:"1"},{lightness:"67"},{gamma:"1.41"},{color:"#c7d7c7"}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{hue:"#ff0000"},{visibility:"off"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{saturation:"-39"},{lightness:"35"},{gamma:"1.08"}]},{featureType:"landscape",elementType:"geometry",stylers:[{saturation:"0"}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{saturation:"-100"},{lightness:"10"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{saturation:"-100"},{lightness:"-14"}]},{featureType:"landscape.man_made",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"landscape.natural.landcover",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"all",stylers:[{saturation:"-100"},{lightness:"10"},{gamma:"2.26"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text",stylers:[{saturation:"-100"},{lightness:"-3"}]},{featureType:"road",elementType:"all",stylers:[{saturation:"-100"},{lightness:"54"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{saturation:"-100"},{lightness:"-7"}]},{featureType:"road.arterial",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"road.local",elementType:"all",stylers:[{saturation:"-100"},{lightness:"-2"}]},{featureType:"transit",elementType:"all",stylers:[{saturation:"-100"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{saturation:"-100"},{lightness:"100"}]},{featureType:"water",elementType:"geometry.stroke",stylers:[{saturation:"-100"},{lightness:"-100"}]}]}),f={url:p,size:new google.maps.Size(35,56),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(8.8,28),scaledSize:new google.maps.Size(17.5,28)},g=new google.maps.Marker({position:m,map:e,icon:f,zIndex:99999});if(n.hasClass("map-elem-near")){var h=[];a(t),e.set("zoom",3);var u=$(n).closest(".contact-section").find(".js-map-trigger"),y=[],v=[],T=10;u.each(function(){var e=$(this),t=e.index();e.on("click",function(){e.addClass("active").siblings().removeClass("active");var a=h[t].position.lat(),i=h[t].position.lng();s(a,i)})})}}window.onload=function(){$("#main-video").length&&$("#main-video").get(0).play()},document.addEventListener("DOMContentLoaded",function(){function e(e){return function(){e.toggleClass("active"),u?$("html").toggleClass("remodal-is-locked"):$("html").toggleClass("remodal-is-locked")}}function t(e){var t=(120-e/p*30)/100;c.css("opacity",o/e/3).find(".firstScreenFading").css("transform","translate(-50%, -50%) scale("+(t<=1?1:t)+")"),e>150&&!f.hasClass("hiddened")?f.fadeOut().addClass("hiddened"):e<150&&f.hasClass("hiddened")&&f.fadeIn().removeClass("hiddened")}function a(e){h.css("transform","translatey("+Math.round(-e/2)+"px)")}function i(e){e>=parallaxFieldViewTop&&e<=parallaxFieldViewBottom&&S.css("transform","translate( 0, "+-((e-parallaxFieldViewTop)/(parallaxFieldView/100))*(_/150)+"px)")}function s(){$("#aside-menu").find("a").on("click",function(e){e.preventDefault();var t=$(this).attr("href");$("html, body").animate({scrollTop:$(t).offset().top-80},1e3)})}function l(){var e=$(this).scrollTop()+120,t=W.map(function(){if($(this).offset().top<e)return this});t=t[t.length-1];var a=t&&t.length?t[0].id:"";R.siblings().removeClass("active").filter("[href='#"+a+"']").addClass("active")}if($("#map").length&&initMap("#map",arrayOfPins),$(".map").length){var n=$(".map");n.filter(function(e){var t=$(this);initMap(t,arrayOfPinsMaps[e]),console.log(e)})}var r=$(window),o=r.height(),d=$("#header-mainwrap"),c=$("#main-first-screen-fading-wrapper"),p=$("#main-screen-wrapper").height(),m=$("#main-burger"),f=$("#main-screen .screen-links-wrapper"),g=($("#title-wrapper"),$("#title-wrapper-inner")),h=$("#main-screen-title"),u=isMobile(),y=!!$("#aside-menu").length,v=!!$("#parallax").length;if(!isMobile()&&c.data("src")&&(c.append('<div class="homepage-hero-module"><div class="video-container"><div class="filter"></div><video class="firstScreenFading" id="main-video" muted loop><source src="'+c.data("src")+'" type="video/mp4"></video></div></div>'),c.find(".video-poster").remove()),m.on("click",e(d)),$("#modal").length){var T=$("#modal-content"),b=($("#brand-products-slider"),$("#brand-products-slider .products-slide")),w=$("#modal-content-images");b.on("click",function(){var e=$(this).data("slick-index");$("#modal-content-images").slick("slickGoTo",e)}),b.filter(function(){var e=$(this).find("img");T.append('<div class="slick-slide products-slide"><div class="slide-img"><img src="'+e.attr("src")+'"></div></div>'),w.append('<div class="slick-slide modal-img-slide"><div class="modal-img-slide-inner"><img src="'+e.data("img")+'" alt=""></div><p class="h2">'+e.data("text")+"</p></div>")});var k=$("#modal").remodal(),C=$("#modal");$(document).on("opened",".remodal",function(e){"opened"==k.getState()&&(C.hasClass("activated")||(C.addClass("activated"),w.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:T}),T.slick({arrows:!0,dots:!1,slidesToShow:8,slidesToScroll:8,infinite:!0,asNavFor:w,focusOnSelect:!0,centerMode:!0,centerPadding:"60px",variableWidth:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:750,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:540,settings:{slidesToShow:3,slidesToScroll:3}}]})))})}if($("#main-screen .screen-link-text").length&&($("#main-screen .screen-link-text").on("mouseenter",function(){g.addClass("active")}),$("#main-screen .screen-link-text").on("mouseleave",function(){g.removeClass("active")})),$("#parallax").length){var x=$("#parallax"),S=$("#parallax .parallax-img img"),_=S.height();parallaxFieldViewTop=x.offset().top-o,parallaxFieldViewBottom=x.offset().top+x.height()+$(window).height(),parallaxFieldView=parallaxFieldViewBottom-parallaxFieldViewTop}if($("#dates").length&&$("#dates-slider").slick({slidesToShow:4,slidesToScroll:4,infinite:!1,focusOnSelect:!1,accessibility:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,arrows:!1,infinite:!1}},{breakpoint:750,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1,infinite:!1}},{breakpoint:540,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,infinite:!1}}]}),$("#brand-products").length){var M=$("#brand-products-slider");M.slick({arrows:!0,dots:!0,slidesToShow:4,slidesToScroll:4,infinite:!1,focusOnSelect:!1,accessibility:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:750,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:540,settings:{slidesToShow:1,slidesToScroll:1}}]});var F=M.find(".slick-dots li").length;M.append('<div class="slick-sum-slides">/ '+F+"</div>")}if($("#brand-vertical-slider").length){var z=$("#brand-vertical-slider");z.slick({arrows:!0,dots:!1,slidesToShow:1,slidesToScroll:1,infinite:!0,focusOnSelect:!1,accessibility:!1,vertical:!0,verticalSwiping:!0})}if(r.scroll(function(e){var s=r.scrollTop();return s>p&&!$("body").hasClass("menu-mobile")?(d.addClass("sticked animated fadeInDownFast").css("animation-delay","0"),void(u||(v&&i(s),y&&l()))):void(s<0||(u||(t(s),a(s)),d.removeClass("sticked animated fadeInDownFast")))}),$(window).width()>=1024&&(inView.offset(100),inView(".animateThis").on("enter",function(e){$(e).addClass("animated "+$(e).data("anim"))})),$("#index-chart .chart-bar").filter(function(){$(this).css("width",$(this).data("scale")+"%")}),$("#brands").length){var E=[],L=!1,O=$("#brands"),P=$("#brands .brand-anim-block");P.filter(function(e){var t=$(this),a=Math.floor(7e3*Math.random())+8e3,i=0;if(i<P.length+1){for(var s=Math.floor(Math.random()*brandElems.brands.length);E[s];)s=Math.floor(Math.random()*brandElems.brands.length);E[s]=!0,t.append('<a href="'+brandElems.brands[s].href+'"><img src="'+brandElems.brands[s].src+'" alt="brand"></a>'),i++}u||setInterval(function(){if(!L){for(;E[s];)s=Math.floor(Math.random()*brandElems.brands.length);t.append('<a href="'+brandElems.brands[s].href+'"><img src="'+brandElems.brands[s].src+'" alt="brand"></a>'),t.children("a:nth-of-type(2)").addClass("animated slideBrand"),t.children("a:first-of-type").addClass("animated slideBrandOut"),E[s]=!0,setTimeout(function(){for(var e in brandElems.brands)brandElems.brands[e].src==t.children("a:first-of-type").children("img").attr("src")&&(E[e]=!1);t.children("a").removeClass("animated slideBrand"),t.children("a:first-of-type").remove()},1e3)}},a)}),O.on("mouseenter",function(){L=!0}),O.on("mouseleave",function(){L=!1})}if($("#scheme").length){var V=1,B=$("#scheme .scheme-button"),D=$("#scheme-slider .scheme-slider__slide");B.on("click",function(){var e=$(this);if(!e.hasClass("active")){B.filter(function(){$(this).removeClass("active")}),e.addClass("active").siblings().removeClass("active");var t=D.eq(e.data("slide")-1);t.addClass("active").siblings().removeClass("active"),V=e.data("slide"),$("#scheme .scheme-menu").css("transform","rotate("+(45*-e.data("slide")+45)+"deg)"),$("#scheme .scheme-menu g.icon").css("transform","rotate("+(45*e.data("slide")-45)+"deg)")}}),$("#update-scheme-slider").on("click",function(){V>=8?V=1:V++,B.eq(V-1).trigger("click")})}if($("#graphics").length){var I=$("#chart-control .button"),A=0,N={data:chartData[A].values,animate_on_load:!0,width:600,height:500,full_width:!0,full_height:!0,left:100,y_extended_ticks:!0,x_extended_ticks:!0,point_size:4,target:"#company-chart",x_accessor:"date",y_accessor:"value",y_label:chartData[A].title,color_accessor:"v",color_type:"category",mouseover:function(e,t){d3.select("#company-chart svg .mg-active-datapoint").text("В "+(t+2011)+" году произведено "+e.value+" тыс.тонн")}};I.on("click",function(){var e=$(this);e.hasClass("active")||(A=e.data("chart")),N.data=chartData[A].values,N.y_label=chartData[A].title,e.addClass("active").siblings().removeClass("active"),delete N.xax_format,MG.data_graphic(N)}),MG.data_graphic(N)}if($("#aside-menu").length){var y=!0;$(".aside-menu-item").filter(function(){var e=$(this),t=e.attr("id");$("#aside-menu .aside-menu-wrapper").append('<a href="#'+t+'"><div class="aside-item-inner"><p>'+e.data("aside")+"</p></div></a>")});var G=$("#aside-menu .aside-menu-wrapper"),R=G.find("a"),W=R.map(function(){var e=$($(this).attr("href"));if(e.length)return e});$("#aside-menu").stick_in_parent(),s()}});