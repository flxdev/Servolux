"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():e.Rellax=t()}(void 0,function(){return function e(t,o){var n=Object.create(e.prototype),r=0,i=0,s=[],a=!1,l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},f=window.transformProp||function(){var e=document.createElement("div");if(null==e.style.transform){var t=["Webkit","Moz","ms"];for(var o in t)if(void 0!==e.style[t[o]+"Transform"])return t[o]+"Transform"}return"transform"}(),c=function(e,t,o){return e<=t?t:e>=o?o:e};n.options={speed:-2,center:!1,round:!0,callback:function(){}},o&&Object.keys(o).forEach(function(e){n.options[e]=o[e]}),n.options.speed=c(n.options.speed,-10,10),t||(t=".rellax");var d=document.querySelectorAll(t);if(!(d.length>0))throw new Error("The elements you're trying to select don't exist.");n.elems=d;var u=function(e){var t=e.dataset.rellaxPercentage,o=e.dataset.rellaxSpeed,r=t||n.options.center?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop:0,s=r+e.getBoundingClientRect().top,a=e.clientHeight||e.offsetHeight||e.scrollHeight,l=t||(r-s+i)/(a+i);n.options.center&&(l=.5);var f=o?c(o,-10,10):n.options.speed;(t||n.options.center)&&(f=c(o||n.options.speed,-5,5));var d=p(l,f),u=e.style.cssText,m="";if(u.indexOf("transform")>=0){var y=u.indexOf("transform"),w=u.slice(y),v=w.indexOf(";");m=v?" "+w.slice(11,v).replace(/\s/g,""):" "+w.slice(11).replace(/\s/g,"")}return{base:d,top:s,height:a,speed:f,style:u,transform:m}},m=function(){var e=r;return r=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e!=r},p=function(e,t){var o=t*(100*(1-e));return n.options.round?Math.round(10*o)/10:o},y=function e(){m()&&!1===a&&w(),l(e)},w=function(){for(var e=0;e<n.elems.length;e++){var t=(r-s[e].top+i)/(s[e].height+i),o=p(t,s[e].speed)-s[e].base,a="translate3d(0,"+o+"px,0) "+s[e].transform;n.elems[e].style[f]=a}n.options.callback(o)};return n.destroy=function(){for(var e=0;e<n.elems.length;e++)n.elems[e].style.cssText=s[e].style;a=!0},function(){i=window.innerHeight,m();for(var e=0;e<n.elems.length;e++){var t=u(n.elems[e]);s.push(t)}window.addEventListener("resize",function(){w()}),y(),w()}(),n}});